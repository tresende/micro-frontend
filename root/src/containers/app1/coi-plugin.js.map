{"version":3,"sources":["webpack://coi-plugin/webpack/bootstrap","webpack://coi-plugin/external \"react\"","webpack://coi-plugin/external \"react-dom\"","webpack://coi-plugin/./node_modules/single-spa-react/lib/single-spa-react.js","webpack://coi-plugin/./src/root.component.js","webpack://coi-plugin/./src/coi-plugin.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__1__","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","undefined","default","userOpts","_typeof","Error","opts","_extends","defaultOpts","React","ReactDOM","rootComponent","loadRootComponent","SingleSpaContext","createContext","lifecycles","bootstrap","props","Promise","resolve","then","resolvedComponent","mount","reject","componentDidCatch","suppressComponentDidCatchWarning","version","indexOf","majorVersionString","slice","Number","err","atLeastReact16","console","warn","appName","childAppName","domElementGetter","customProps","domElement","chooseDomElementGetter","rootComponentElement","createElement","elementToRender","Provider","el","getRootDomEl","render","this","unmount","unmountComponentAtNode","parcelCanUpdate","update","_defaultOpts","assign","target","arguments","length","source","iterator","obj","constructor","_defineProperty","configurable","writable","apply","root_component_Root","external_react_default","a","Component","__webpack_exports__","unload","reactLifecycles","single_spa_react_default","external_react_dom_default","document","getElementById","id","body","appendChild"],"mappings":"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","file":"coi-plugin.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(['exports'], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports);\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports);\n    global.singleSpaReact = mod.exports;\n  }\n})(this, function (exports) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = singleSpaReact;\n\n  var _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  };\n\n  var _defaultOpts;\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  /* We don't import parcel.component.js from this file intentionally. See comment\n   * in that file for why\n   */\n\n  // React context that gives any react component the single-spa props\n  var SingleSpaContext = exports.SingleSpaContext = null;\n\n  var defaultOpts = (_defaultOpts = {\n    // required opts\n    React: null,\n    ReactDOM: null,\n    rootComponent: null,\n    loadRootComponent: null,\n    domElementGetter: null,\n    suppressComponentDidCatchWarning: false\n\n  }, _defineProperty(_defaultOpts, 'domElementGetter', null), _defineProperty(_defaultOpts, 'parcelCanUpdate', true), _defaultOpts);\n\n  function singleSpaReact(userOpts) {\n    if ((typeof userOpts === 'undefined' ? 'undefined' : _typeof(userOpts)) !== 'object') {\n      throw new Error('single-spa-react requires a configuration object');\n    }\n\n    var opts = _extends({}, defaultOpts, userOpts);\n\n    if (!opts.React) {\n      throw new Error('single-spa-react must be passed opts.React');\n    }\n\n    if (!opts.ReactDOM) {\n      throw new Error('single-spa-react must be passed opts.ReactDOM');\n    }\n\n    if (!opts.rootComponent && !opts.loadRootComponent) {\n      throw new Error('single-spa-react must be passed opts.rootComponent or opts.loadRootComponent');\n    }\n\n    if (!SingleSpaContext && opts.React.createContext) {\n      exports.SingleSpaContext = SingleSpaContext = opts.React.createContext();\n    }\n\n    var lifecycles = {\n      bootstrap: bootstrap.bind(null, opts),\n      mount: mount.bind(null, opts),\n      unmount: unmount.bind(null, opts)\n    };\n\n    if (opts.parcelCanUpdate) {\n      lifecycles.update = update.bind(null, opts);\n    }\n\n    return lifecycles;\n  }\n\n  function bootstrap(opts, props) {\n    if (opts.rootComponent) {\n      // This is a class or stateless function component\n      return Promise.resolve();\n    } else {\n      // They passed a promise that resolves with the react component. Wait for it to resolve before mounting\n      return opts.loadRootComponent().then(function (resolvedComponent) {\n        opts.rootComponent = resolvedComponent;\n      });\n    }\n  }\n\n  function mount(opts, props) {\n    return new Promise(function (resolve, reject) {\n\n      if (!opts.rootComponent.prototype.componentDidCatch && !opts.suppressComponentDidCatchWarning && atLeastReact16(opts.React)) {\n        console.warn('single-spa-react: ' + (props.name || props.appName || props.childAppName) + '\\'s rootComponent should implement componentDidCatch to avoid accidentally unmounting the entire single-spa application.');\n      }\n\n      var domElementGetter = chooseDomElementGetter(opts, props);\n\n      if (!domElementGetter) {\n        throw new Error('Cannot mount react application \\'' + (props.appName || props.name) + '\\' without a domElementGetter provided in either opts or props');\n      }\n\n      var whenFinished = function whenFinished() {\n        resolve(this);\n      };\n\n      var rootComponentElement = opts.React.createElement(opts.rootComponent, props);\n      var elementToRender = SingleSpaContext ? opts.React.createElement(SingleSpaContext.Provider, { value: props }, rootComponentElement) : rootComponentElement;\n      var domElement = getRootDomEl(domElementGetter);\n      var renderedComponent = opts.ReactDOM.render(elementToRender, domElement, whenFinished);\n      opts.domElement = domElement;\n    });\n  }\n\n  function unmount(opts, props) {\n    return Promise.resolve().then(function () {\n      opts.ReactDOM.unmountComponentAtNode(opts.domElement);\n    });\n  }\n\n  function update(opts, props) {\n    return new Promise(function (resolve, reject) {\n      var whenFinished = function whenFinished() {\n        resolve(this);\n      };\n\n      var rootComponentElement = opts.React.createElement(opts.rootComponent, props);\n      var elementToRender = SingleSpaContext ? opts.React.createElement(SingleSpaContext.Provider, { value: props }, rootComponentElement) : rootComponentElement;\n      var renderedComponent = opts.ReactDOM.render(elementToRender, opts.domElement, whenFinished);\n    });\n  }\n\n  function getRootDomEl(domElementGetter) {\n    var el = domElementGetter();\n    if (!el) {\n      throw new Error('single-spa-react: domElementGetter function did not return a valid dom element');\n    }\n\n    return el;\n  }\n\n  function atLeastReact16(React) {\n    if (React && typeof React.version === 'string' && React.version.indexOf('.') >= 0) {\n      var majorVersionString = React.version.slice(0, React.version.indexOf('.'));\n      try {\n        return Number(majorVersionString) >= 16;\n      } catch (err) {\n        return false;\n      }\n    } else {\n      return false;\n    }\n  }\n\n  function chooseDomElementGetter(opts, props) {\n    props = props && props.customProps ? props.customProps : props;\n    if (props.domElement) {\n      return function () {\n        return props.domElement;\n      };\n    } else if (props.domElementGetter) {\n      return props.domElementGetter;\n    } else {\n      return opts.domElementGetter;\n    }\n  }\n});\n\n//# sourceMappingURL=single-spa-react.js.map","import React from 'react'\n\nexport default class Root extends React.Component {\n\n  render() {\n    return (\n      <div>:)</div>\n    )\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport singleSpaReact from 'single-spa-react'\nimport RootComponent from './root.component.js'\n\nconst reactLifecycles = singleSpaReact({\n  React,\n  ReactDOM,\n  rootComponent: RootComponent,\n  domElementGetter,\n})\n\nexport const bootstrap = [\n  reactLifecycles.bootstrap,\n]\n\nexport const mount = [\n  reactLifecycles.mount,\n]\n\nexport const unmount = [\n  reactLifecycles.unmount,\n]\n\nexport const unload = [\n  reactLifecycles.unload,\n]\n\nfunction domElementGetter() {\n  let el = document.getElementById(\"coi-plugin\");\n  if (!el) {\n    el = document.createElement('div');\n    el.id = 'coi-plugin';\n    document.body.appendChild(el);\n  }\n\n  return el;\n}\n"],"sourceRoot":""}